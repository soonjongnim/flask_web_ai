<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Sample default.css</title>
		<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
		<link type="text/css" rel="stylesheet" href="static/css/style.css">
	</head>
	<body>
    <h1>영상음성을 원하는 자막으로 변환</h1>
    <form>
      <label for="video-url">영상주소:</label>
      <input type="text" id="video-url" name="video-url"><br><br>
      <label for="language">변환 자막:</label>
      <select id="language" name="language">
        <option value="en">영어</option>
        <option value="ko">한국어</option>
        <option value="ja">일어</option>
        <option value="zh-CN">중국어</option>
        <option value="vi">베트남어</option>
        <option value="fr">프랑스어</option>
        <option value="es">스페인어</option>
        <option value="de">독일어</option>
      </select><br><br>
      <label for="email">받을 이메일:</label>
      <input type="email" id="email" name="email">
      <button type="button" onclick="analyzeText()">변환</button>
      <!-- <input type="submit" value="변환"> -->
    </form>
    <pre id="result"></pre>
    <script>
      function analyzeText() {
        var inputText = $('#video-url').val();
        $.ajax({
          type: 'POST',
          url: 'http://127.0.0.1:5000/api/analyze',
          data: JSON.stringify({'video-url': inputText}),
          contentType: 'application/json',
          success: function(result) {
            console.log('result: ' + result)
            $('#result').text('Analysis result: ' + result);
          },
          error: function(xhr, status, error) {
            console.log(error);
          }
        });
      }
    </script>
  </body> 
</html>